---
layout: post
status: publish
published: true
title: Lirc 0.9.4 and Kodi on Debian Sid
categories:
- Linux
- Software
tags:
- Debian
- Kodi
- HTPC
- lirc
---

This is a small follow-on on from the [Kodi on Debian Sid guide]({% post_url 2016-06-10-kodi-on-debian-sid%}) I did earlier this year to get `lirc` (IR remote support) working once more, following an upgrade to version 0.9.4, which changes how the `lirc` services and configuration work (*shakes fist at systemd*).

After upgrading and following all the instructions in `/usr/share/doc/lirc/README.Debian.gz`,  I was left with the problem of Kodi not responding to any remote input at all.

Firstly, I had to re-source my remote's configuration (`mceusb`) from the [lirc git repository](https://sourceforge.net/p/lirc-remotes/code/ci/master/tree/remotes/). Place the `*.lircd.conf` file from there into `/etc/lirc/lircd.conf.d/` and remove/rename other `.lircd.conf` files already in that directory.

Now, running `irw` and pressing some buttons on your remote should show you the button pressed and the configuration used.

Next up, Kodi fails to connect to the IR device. There are two trivial but non-obvious solutions:

Firstly, without changing any of the default configuration generated by the migration process outlined in the lirc README file, simply change your Kodi starup command as follows:

```
kodi --lircdev /var/run/lirc/lircd
```

Alternatively, you may change the lirc configutation, to put the device file back where Kodi expects it:

```
# in /etc/lirc/lirc_options.conf:
output = /dev/lircd
```

Then end result should be you happily continuing with your life.
